{% extends "base.back.html.twig" %}

{% block body %}
    <main id="container" class="admin">
        PROFILE
        
        <ul>
            <li class="menu-li" data-target="collection-table">Collection</li>
            <table id="collection-table" class="menu-table my-5 table table-striped">
                <thead>
                    <tr>
                        <th>Artist</th>
                        <th>Album</th>
                        <th>Format</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for userAlbumFormat in userAlbumFormats %}
                        <tr>
                            <td>
                                {% for artist in userAlbumFormat.album.artists %}
                                    {{ artist.name }}{% if not loop.last %}, {% endif %}
                                {% endfor %}
                            </td>
                            <td>{{userAlbumFormat.album.title}}</td>
                            <td>{{userAlbumFormat.format.libelle}}</td>
                            <td></td>
                        </tr>
                    {% endfor %}
                </tbody>
                <tfoot>
                    {% if app.user.isVerified %}
                    <tr>
                        <td><a href="{{ path('download_csv', {filename: 'collection.csv', idUser: app.user.id}) }}">Excel</a></td>
                        <td><a href="{{ path('download_pdf', {filename: 'collection.pdf', idUser: app.user.id}) }}">Pdf</a></td>
                        <td></td>
                    </tr>
                    {% endif %}
                </tfoot>
            </table>
        </ul>
    </main>
{% endblock %}